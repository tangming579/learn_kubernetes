## 镜像

容器镜像（Image）所承载的是封装了应用程序及其所有软件依赖的二进制数据。

如果不指定仓库的主机名，Kubernetes 认为使用 Docker 公共仓库。如果不指定标签，Kubernetes 认为使用标签 `latest`。

如果没有显式设定的话，Pod 中所有容器的默认镜像拉取策略是 `IfNotPresent`（在镜像已经存在的情况下直接略过拉取镜像的操作）

### 镜像拉取策略

- IfNotPresent

  ```
  只有当镜像在本地不存在时才会拉取。
  ```

- Always

  ```
  每当 kubelet 启动一个容器时，kubelet 会查询容器的镜像仓库， 将名称解析为一个镜像摘要。如果 kubelet 有一个容器镜像，并且对应的摘要已在本地缓存，kubelet 就会使用其缓存的镜像； 否则，kubelet 就会使用解析后的摘要拉取镜像，并使用该镜像来启动容器。
  ```

- Never

  ```
  Kubelet 不会尝试获取镜像。如果镜像已经以某种方式存在本地， kubelet 会尝试启动容器；否则，会启动失败。
  ```

> **注意：**
>
> 在生产环境中部署容器时，应该避免使用 `:latest` 标签，因为这使得正在运行的镜像的版本难以追踪，并且难以正确地回滚。
>
> 相反，应指定一个有意义的标签，如 `v1.42.0`。
>
> 为了确保 Pod 总是使用相同版本的容器镜像，可以指定镜像的摘要